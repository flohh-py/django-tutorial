{% extends 'main/main.html' %}
{% load static %}
{% block content %}
<script src="{% static 'js/invoice.js' %}" type="text/javascript"></script>
<link href="{% static 'css/invoice.css' %}" rel="stylesheet"/>
<br>
<div class="container mx-auto mt-6">
  <form method="post">{% csrf_token %}
    <div class="container mx-auto">
      <div class='row'>
        <div class='col-6'>
          {{ form.code.label }}
          {{ form.code }}
        </div>
        <div class='col-6'>
          {{ form.type.label }}
          {{ form.type }}
        </div>
      </div>
      <div class='row'>
        <div class='col-6'>
          {{ form.partner.label }}
          {{ form.partner }}
        </div>
        <div class='col-6'>
          {{ form.date.label }}
          {{ form.date }}
        </div>
      </div>
      {{ lines.management_form}}
    </div>
    <div id="line-form-list" class='mt-2'>
      {% for line in lines %}
      <div class="line-form">
        {{ line.as_table }}
      </div>
      {% endfor %}
    </div>
    <div class='row'>
      <div class='col-3'>
        {{ form.total.label }}
        {{ form.total }}
      </div>
    </div>
    <div id='empty-form' class='hidden'>{{ lines.empty_form.as_table }}</div>
    <button type="submit" class="btn btn-success">
      Save
    </button>
    <button id="add-new" type="button">
      Add
      </button>
  </form>
</div>
{% endblock content %}
